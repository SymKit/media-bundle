deptrac:
  paths:
    - src/

  layers:
    - name: Contract
      collectors:
        - type: directory
          value: src/Contract/.*

    - name: Controller
      collectors:
        - type: directory
          value: src/Controller/.*

    - name: Entity
      collectors:
        - type: directory
          value: src/Entity/.*

    - name: Form
      collectors:
        - type: directory
          value: src/Form/.*

    - name: LiveComponent
      collectors:
        - type: directory
          value: src/LiveComponent/.*

    - name: Repository
      collectors:
        - type: directory
          value: src/Repository/.*

    - name: Service
      collectors:
        - type: directory
          value: src/Service/.*

    - name: Security
      collectors:
        - type: directory
          value: src/Security/.*

    - name: Other
      collectors:
        - type: directory
          value: src/EventListener/.*
        - type: directory
          value: src/Processor/.*
        - type: directory
          value: src/Storage/.*
        - type: directory
          value: src/Strategy/.*
        - type: directory
          value: src/Twig/.*
        - type: directory
          value: src/Search/.*

  ruleset:
    Contract: [Entity, Security]
    Controller: [Contract, Service, Repository, Entity, Form, Security]
    Entity: [Contract, Repository]
    Form: [Contract, Entity, Service, Repository]
    LiveComponent: [Contract, Service, Repository, Entity]
    Repository: [Contract, Entity]
    Service: [Contract, Repository, Entity, Security, Other]
    Security: [Contract]
    Other: [Contract, Service, Repository, Entity, Security, Form]
