# Pre-commit hooks mirror CI pipeline (except security-check): deptrac, phpstan, phpcsfixer, phpunit, infection.
grumphp:
    tasks:
        make:
            task: deptrac
            triggered_by: [php]
        phpstan:
            configuration: phpstan.neon.dist
            memory_limit: 512M
            use_grumphp_paths: false
        phpcsfixer:
            config: .php-cs-fixer.dist.php
        phpunit:
            config_file: phpunit.xml.dist
        shell:
            scripts:
                - ['-c', 'make infection']
            triggered_by: [php]
